import { SubmissionRequest } from '../marketplace/dtos/marketplace.dto';
import { getConnection } from 'typeorm';

export async function clearDB() {
  const entities = getConnection().entityMetadatas;
  for (const entity of entities) {
    const repository = await getConnection().getRepository(entity.name);
    await repository.query(`DELETE FROM ${entity.tableName}`);
  }
}

export function newSubmissionRequest(
  user: string,
  sn: string,
): SubmissionRequest {
  return new SubmissionRequest({
    user: user,
    grading_company: 'fake grading_company',
    serial_number: sn,
    title: 'fake title',
    description: 'fake description',
    genre: 'fake genre',
    manufacturer: 'fake manufacturer',
    year: 2001,
    overall_grade: 'fake overall_grade',
    sub_grades: 'fake sub_grades',
    autograph: 'fake autograph',
    subject: 'fake subject',
    est_value: 12300,
    image_base64:
      'iVBORw0KGgoAAAANSUhEUgAAAeYAAAHSCAIAAAC2Gv8jAAAAA3NCSVQICAjb4U/gAAAAGXRFWHRTb2Z0d2FyZQBnbm9tZS1zY3JlZW5zaG907wO/PgAABoFJREFUeJzt1EENwCAAwMAxJZDgXyMW+JEmdwr66phrfwAU/K8DALhl2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QYdkAGZYNkGHZABmWDZBh2QAZlg2QcQD7TQQJe1Y7+AAAAABJRU5ErkJggg==',
    image_format: 'jpg',
  });
}
